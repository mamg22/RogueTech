behavior SubmitFix(value)
    on mouseover or click
        set the value of #pagefix to value
    end
end

behavior DisableOnSubmit(table)
    on submit
        -- Async, because sync breaks form submission
        async do
            add .shine to table
            add @disabled to <fieldset, .pagination button/>
            wait for htmx:afterOnLoad
            remove @disabled from <fieldset:not([data-disabled]), .pagination button:not([data-disabled])/>
            settle
            remove .shine from table
        end
    end
    on htmx:historyRestore from window
        or popstate from window
        or htmx:beforeHistorySave from window
        remove @disabled from <fieldset:not([data-disabled]), .pagination button:not([data-disabled])/>
    end
end